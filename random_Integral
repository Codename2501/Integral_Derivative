using System;
namespace Integral_Derivative
{
    public class MainRoutine
    {
        [STAThread]
        static void Main()
        {
           _= new IntegralDerivative();
        }
    }
    public class IntegralDerivative
    {
        double theta;//angle
        double qn;//qn
        double ih;//Integral
        double dw;//delta acos(theta)
        double dh;//delta asin(theta)
        double n;//end value
        double da;//delta a
        double fx;//Function
        double fx0;//PreFunction
        Random r;
        public IntegralDerivative()
        {
            da = 1.0e-5;
            n = 1.0;
            r=new Random();
            for (qn = 0.0; qn < n-da;)
            {
                fx0=fx;
                fx=Function(qn);
                theta = Math.Atan(fx);
                dw = da * Math.Cos(theta);
                qn += dw;
                dh = da * Math.Sin(theta);
                ih += dh;
                Console.Write("{0} {1} {2} {3}\n", qn,ih,fx,prime());
            }       
        }
        public double Function(double x)
        {
            return r.NextDouble();
        }
        public double Prime()
        {
            (fx-fx0)/dw;
        }
    }
}
